Strawberry Fields Listener
==========================

To test the Strawberry Fields Listener, create the Blackbird program ``example_gbs.xbb``,

.. code-block:: python

    float alpha = 0.3423

    complex array U4[4, 4] =
        -0.374559877614+0.1109693347j,   0.105835208525+0.395338593151j, -0.192128677443-0.326320923534j,  0.663459991938-0.310353146438j
        -0.380767811218+0.17264101141j,  0.420783417348-0.061064767156j, -0.492833372973+0.169005421785j, -0.049425295018+0.608714168654j
        -0.004575175084+0.710803957997j, 0.141905920779+0.230227449191j,  0.508526433013-0.297100053719j, -0.186799328386+0.19958273542j
        -0.390091516639-0.123154657531j, 0.220739102992-0.727908644677j,  0.235216128652-0.427737604015j, -0.002154245945-0.125674446672j

    with gaussian(num_subsystems=4, shots=10):
        Coherent(alpha, sqrt(pi)) | 0
        Interferometer(U4) | [0, 1, 2, 3]
        MeasureX | 0
        MeasureX | 1
        MeasureX | 2
        MeasureX | 3

by running the following line in your terminal:

.. code-block:: console

    python3 strawberry_fields_listener.py example_gbs.xbb

producing the following output:

.. code-block:: console

    Program
    -------
    Run 0:
    Coherent(0.3423, 1.772) | (q[0])
    Rgate(-1.559) | (q[0])
    BSgate(0.4934, 0) | (q[0], q[1])
    Rgate(1.476) | (q[2])
    BSgate(1.094, 0) | (q[2], q[3])
    Rgate(1.787) | (q[1])
    BSgate(1.361, 0) | (q[1], q[2])
    Rgate(1.723) | (q[0])
    BSgate(1.003, 0) | (q[0], q[1])
    Rgate(2.704) | (q[0])
    Rgate(-1.571) | (q[1])
    Rgate(0.07864) | (q[2])
    Rgate(-2.444) | (q[3])
    BSgate(-1.082, 0) | (q[2], q[3])
    Rgate(0.1988) | (q[2])
    BSgate(-0.9824, 0) | (q[1], q[2])
    Rgate(-2.584) | (q[1])
    MeasureX | (q[0])
    MeasureX | (q[1])
    MeasureX | (q[2])
    MeasureX | (q[3])

    Results
    -------
    [0.78741742869032849, 0.4687548968197896, 0.24995884856075234, 0.26017773802799282]
    [-0.38611559831595721, 0.87013137205881896, -0.8637591428902387, 0.87987666305358891]
    [-0.90073440739802579, 0.6541730982429812, -0.17966121619754322, 0.7105191725142429]
    [2.2181871945635283, 0.90784717914877755, -0.14608293659572136, 1.3234082450308977]
    [0.26187400468879646, -0.24350554600924179, 0.15135585268536278, -1.3698092903244679]
    [0.62928125081235919, -2.1680158143971759, -0.99450040689765284, 1.8511289378967497]
    [1.9602717053077034, -1.8998580204278686, 0.23193528358577153, 1.5632428346967497]
    [0.34002902283984326, 0.99624604317845789, -0.32804961033646657, 0.89742913874610075]
    [-0.58834092978787944, -1.0543538025898438, 0.18153026050309107, 0.81751881123822168]
    [1.3795212337550613, -1.0187713250385, 0.50738610139349849, 0.25778266780662962]
